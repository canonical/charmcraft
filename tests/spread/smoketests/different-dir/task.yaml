summary: pack a init-created charm from a different directory
systems:
  - ubuntu-24.04-64 # Only run this on the default base for our templates.

prepare: |
  charmcraft init --project-dir=charm

restore: |
  pushd charm
  charmcraft clean
  popd

  rm -rf charm

execute: |
  charmcraft pack --verbose --project-dir=charm
  test ! -f charm/charm*.charm
  test -f charm*.charm
