# Copyright {{ year }} {{ author }}
# See LICENSE file for licensing details.
#
# Learn more about testing at: https://juju.is/docs/sdk/testing

import ops
import ops.testing
import pytest
from charm import {{ class_name }}


@pytest.fixture
def harness():
    harness = ops.testing.Harness({{ class_name }})
    yield harness
    harness.cleanup()


def test_start(harness: ops.testing.Harness[{{ class_name }}]):
    # Simulate the charm starting
    harness.begin_with_initial_hooks()

    # Ensure we set an ActiveStatus with no message
    assert harness.model.unit.status == ops.ActiveStatus()
